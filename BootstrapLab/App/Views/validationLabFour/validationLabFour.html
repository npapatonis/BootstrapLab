<div class="form-group" ng-controller="validationLabFourController">
    <form name="form" novalidate>
        <h2>Validation Lab Four</h2>
        <!-- User name -->
        <div class="form-group row">
            <label for="uName" class="form-control-label col-sm-2">Name</label>
            <div class="col-sm-3">
                <input type="text"
                       name="uName"
                       class="form-control"
                       ng-model="user.name"
                       ng-model-options="{ updateOn: 'blur' }"
                       required />
            </div>
            <div class="col-sm-6"
                 ng-show="(form.$submitted || form.uName.$touched) && !form.uName.$valid">
                <div class="pullDown">
                    <span class="arrow_box" ng-show='form.uName.$error.required'><span class="fa fa-exclamation-circle" />&nbsp;Please enter your name</span>
                </div>
            </div>
        </div>
        <!-- Email -->
        <div class="form-group row">
            <label for="uEmail" class="form-control-label col-sm-2">Email</label>
            <div class="col-sm-3">
                <input type="email"
                       name="uEmail"
                       class="form-control"
                       ng-model="user.email"
                       ng-model-options="{ updateOn: 'blur' }"
                       required />
            </div>
            <div class="col-sm-6"
                 ng-show="(form.$submitted || form.uEmail.$touched) && !form.uEmail.$valid">
                <div class="pullDown">
                    <span class="arrow_box" ng-show='form.uEmail.$error.required'><span class="fa fa-exclamation-circle" />&nbsp;Please enter your email address</span>
                    <span class="arrow_box" ng-show='form.uEmail.$error.email'><span class="fa fa-exclamation-circle" />&nbsp;Please enter a valid email address</span>
                </div>
            </div>
        </div>
        <!-- From date/time -->
        <div class="form-group row">
            <label for="testTime" class="form-control-label col-sm-2">From Date/Time</label>
            <div class="col-sm-3">
                <div style="margin-bottom: 5px;">
                    <input type="text"
                           id="fromDate"
                           name="fromDate"
                           ng-model="daterange.fromDate"
                           tks-date-input
                           tks-date-format="M-d-yyyy"
                           tks-max-date="{{daterange.toDate}}"
                           ui-validate=" 'isValidDateRange()' "
                           ui-validate-watch="['daterange.fromTime', 'daterange.toDate', 'daterange.toTime']"
                           required />
                </div>
                <input type="text"
                       id="fromTime"
                       name="fromTime"
                       ng-model="daterange.fromTime"
                       tks-time-input
                       tks-time-format="HH:mm"
                       tks-minute-step="1"
                       required />
            </div>
            <div class="col-sm-6">
                <div ng-show="(form.$submitted || form.fromDate.$touched || form.fromTime.$touched || form.toDate.$touched || form.toTime.$touched) && form.fromDate.$error.validator">
                    <div class="pullDown">
                        <span class="arrow_box"><span class="fa fa-exclamation-circle" />&nbsp;Please enter a To Date/Time that is after the From Date/Time</span>
                    </div>
                </div>
                <div ng-show="(form.$submitted || form.fromDate.$touched) && form.fromDate.$invalid && !form.fromDate.$error.validator">
                    <div class="pullDown">
                        <span class="arrow_box" ng-show='form.fromDate.$error.required'><span class="fa fa-exclamation-circle" />&nbsp;Please enter a from date</span>
                        <span class="arrow_box" ng-show='form.fromDate.$error.date'><span class="fa fa-exclamation-circle" />&nbsp;Please enter a from date in m-d-yyyy form</span>
                    </div>
                </div>
                <div ng-show="(form.$submitted || form.fromTime.$touched) && form.fromTime.$invalid">
                    <div class="pullDown">
                        <span class="arrow_box" ng-show='form.fromTime.$error.required'><span class="fa fa-exclamation-circle" />&nbsp;Please enter a from time</span>
                        <span class="arrow_box" ng-show='form.fromTime.$error.date'><span class="fa fa-exclamation-circle" />&nbsp;Please enter a 24 hour from time in hh:mm form</span>
                    </div>
                </div>
            </div>
        </div>
        <!-- To date/time -->
        <div class="form-group row">
            <label for="testTime" class="form-control-label col-sm-2">To Date/Time</label>
            <div class="col-sm-3">
                <div style="margin-bottom: 5px;">
                    <input type="text"
                           id="toDate"
                           name="toDate"
                           ng-model="daterange.toDate"
                           tks-date-input
                           tks-date-format="M-d-yyyy"
                           tks-min-date="{{daterange.fromDate}}"
                           required>
                </div>
                <input type="text"
                       id="toTime"
                       name="toTime"
                       ng-model="daterange.toTime"
                       tks-time-input
                       tks-time-format="HH:mm"
                       tks-minute-step="1"
                       required />
            </div>
            <div class="col-sm-6">
                <div ng-show="(form.$submitted || form.toDate.$touched) && form.toDate.$invalid">
                    <div class="pullDown">
                        <span class="arrow_box" ng-show='form.toDate.$error.required'><span class="fa fa-exclamation-circle" />&nbsp;Please enter a to date</span>
                        <span class="arrow_box" ng-show='form.toDate.$error.date'><span class="fa fa-exclamation-circle" />&nbsp;Please enter a to date in m-d-yyyy form</span>
                    </div>
                </div>
                <div ng-show="(form.$submitted || form.toTime.$touched) && form.toTime.$invalid">
                    <div class="pullDown">
                        <span class="arrow_box" ng-show='form.toTime.$error.required'><span class="fa fa-exclamation-circle" />&nbsp;Please enter a to time</span>
                        <span class="arrow_box" ng-show='form.toTime.$error.date'><span class="fa fa-exclamation-circle" />&nbsp;Please enter a 24 hour to time in hh:mm form</span>
                    </div>
                </div>
            </div>
        </div>
        <!-- Gender -->
        <div class="form-group row">
            <label class="col-sm-2">Gender</label>
            <div class="col-sm-3">
                <div class="radio">
                    <label>
                        <input type="radio"
                               name="gender"
                               ng-model="user.gender"
                               value="male"
                               required />
                        Male
                    </label>
                </div>
                <div class="radio">
                    <label>
                        <input type="radio"
                               name="gender"
                               ng-model="user.gender"
                               value="female"
                               required />
                        Female
                    </label>
                </div>
            </div>
            <div class="col-sm-6"
                 ng-show="(form.$submitted || form.gender.$touched) && !form.gender.$valid">
                <div class="pullDown">
                    <span class="arrow_box" ng-show='form.gender.$error.required'><span class="fa fa-exclamation-circle" />&nbsp;Please specify gender</span>
                </div>
            </div>
        </div>
        <!-- Agree checkbox -->
        <div class="form-group row">
            <div class="col-sm-offset-2 col-sm-3">
                <div class="checkbox">
                    <label>
                        <input type="checkbox"
                               name="userAgree"
                               class="form-inline"
                               ng-model="user.agree"
                               required />
                        I agree:
                    </label>
                </div>
            </div>
            <div class="col-sm-6"
                 ng-show="form.$submitted && !form.userAgree.$valid">
                <div class="pullDown">
                    <span class="arrow_box" ng-show='form.userAgree.$error.required'><span class="fa fa-exclamation-circle" />&nbsp;Please agree and sign</span>
                </div>
            </div>
        </div>
        <!-- Signature -->
        <div ng-show="user.agree">
            <div class="form-group row">
                <label for="uEmail" class="form-control-label col-sm-2">Signed:</label>
                <div class="col-sm-3">
                    <input type="text"
                           name="agreeSign"
                           class="form-control"
                           ng-model="user.agreeSign"
                           ng-model-options="{ updateOn: 'blur' }"
                           required />
                </div>
                <div class="col-sm-6"
                     ng-show="(form.$submitted || form.agreeSign.$touched) && !form.agreeSign.$valid">
                    <div class="pullDown">
                        <span class="arrow_box" ng-show='form.agreeSign.$error.required'><span class="fa fa-exclamation-circle" />&nbsp;Please sign</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-sm-offset-2 col-sm-10">
                <input type="submit" class="btn btn-primary" ng-click="update(user)" value="Save" />
                <input type="button" class="btn btn-secondary" ng-click="reset(form)" value="Reset" />
            </div>
        </div>
    </form>
    <br />
    <pre>daterange = {{daterange | json}}</pre>
    <pre>form.fromDate.$error = {{form.fromDate.$error | json}}</pre>
    <pre>form.fromTime.$error = {{form.fromTime.$error | json}}</pre>
    <pre>form.toDate.$error = {{form.toDate.$error | json}}</pre>
    <pre>form.toTime.$error = {{form.toTime.$error | json}}</pre>
</div>